<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>sheldon docs</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="Introduction.html">Introduction</a></li><li class="chapter-item expanded "><a href="Installation.html">üì¶ Installation</a></li><li class="chapter-item expanded "><a href="Getting-started.html">üöÄ Getting started</a></li><li class="chapter-item expanded "><a href="Command-line-interface.html">üíª Command line interface</a></li><li class="chapter-item expanded "><a href="Configuration.html">‚öôÔ∏è Configuration</a></li><li class="chapter-item expanded "><a href="Examples.html">üí° Examples</a></li><li class="chapter-item expanded "><a href="RELEASES.html">üìù Release notes</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">sheldon docs</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/rossmacarthur/sheldon" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <p><br><br></p>
<p>Sheldon is a fast, configurable, command-line tool to manage your shell plugins.</p>
<h2 id="how-does-it-work"><a class="header" href="#how-does-it-work">How does it work?</a></h2>
<p>Plugins are specified in a <a href="https://toml.io">TOML</a> configuration file and
Sheldon renders an install script using user configurable templates.</p>
<p>A <code>~/.zshrc</code> or <code>~/.bashrc</code> that uses Sheldon simply contains the following.</p>
<pre><code class="language-sh">eval &quot;$(sheldon source)&quot;
</code></pre>
<p>Sheldon can manage GitHub or Git repositories, Gists, arbitrary remote scripts
or binaries, local plugins, and inline plugins. Plugins are installed and
updated in parallel and as a result Sheldon is blazingly fast.</p>
<h2 id="source-code"><a class="header" href="#source-code">Source code</a></h2>
<p>Sheldon is open source and you can find the code on
<a href="https://github.com/rossmacarthur/sheldon">GitHub</a>.</p>
<h2 id="license"><a class="header" href="#license">License</a></h2>
<p>Sheldon and its source code is licensed under either of</p>
<ul>
<li><a href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a></li>
<li><a href="http://opensource.org/licenses/MIT">MIT license</a></li>
</ul>
<p>at your option.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="-installation"><a class="header" href="#-installation">üì¶ Installation</a></h1>
<h2 id="homebrew"><a class="header" href="#homebrew">Homebrew</a></h2>
<p>Sheldon can be installed using Homebrew.</p>
<pre><code class="language-sh">brew install sheldon
</code></pre>
<h2 id="cargo"><a class="header" href="#cargo">Cargo</a></h2>
<p>Sheldon can be installed from <a href="https://crates.io/crates/sheldon">Crates.io</a>
using <a href="https://doc.rust-lang.org/cargo/">Cargo</a>, the Rust package manager.</p>
<pre><code class="language-sh">cargo install sheldon
</code></pre>
<p>In some circumstances this can fail due to the fact that Cargo does not use
<code>Cargo.lock</code> file by default. You can force Cargo to use it using the <code>--locked</code>
option.</p>
<pre><code class="language-sh">cargo install sheldon --locked
</code></pre>
<h2 id="cargo-binstall"><a class="header" href="#cargo-binstall">Cargo BInstall</a></h2>
<p>Sheldon can be installed using
<a href="https://github.com/cargo-bins/cargo-binstall"><code>cargo-binstall</code></a>, which will
download the release artifacts directly from the GitHub release.</p>
<pre><code class="language-sh">cargo binstall sheldon
</code></pre>
<h2 id="pre-built-binaries"><a class="header" href="#pre-built-binaries">Pre-built binaries</a></h2>
<p>Pre-built binaries for Linux (x86-64, aarch64, armv7) and macOS (x86-64) are
provided. These can be downloaded directly from the <a href="https://github.com/rossmacarthur/sheldon/releases">the releases
page</a>.</p>
<p>Alternatively, the following script can be used to automatically detect your host
system, download the required artifact, and extract the <code>sheldon</code> binary to the
given directory.</p>
<pre><code class="language-sh">curl --proto '=https' -fLsS https://rossmacarthur.github.io/install/crate.sh \
    | bash -s -- --repo rossmacarthur/sheldon --to ~/.local/bin
</code></pre>
<h2 id="building-from-source"><a class="header" href="#building-from-source">Building from source</a></h2>
<p>Sheldon is written in Rust, so to install it from source you will first need to
install Rust and Cargo using <a href="https://rustup.rs/">rustup</a>. Then you can run the
following to build Sheldon.</p>
<pre><code class="language-sh">git clone https://github.com/rossmacarthur/sheldon.git
cd sheldon
cargo build --release
</code></pre>
<p>The binary will be found at <code>target/release/sheldon</code>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="-getting-started"><a class="header" href="#-getting-started">üöÄ Getting started</a></h1>
<h2 id="initializing"><a class="header" href="#initializing">Initializing</a></h2>
<p>Sheldon works by specifying plugin information in a <a href="https://toml.io">TOML</a>
configuration file, <code>plugins.toml</code>. You can initialize this file by running
<code>sheldon init</code>.</p>
<pre><code class="language-sh">sheldon init --shell bash
</code></pre>
<p>or</p>
<pre><code class="language-sh">sheldon init --shell zsh
</code></pre>
<p>This will create <code>plugins.toml</code> under <code>$XDG_CONFIG_HOME/sheldon</code>, on most
systems this will be <code>~/.config/sheldon/plugins.toml</code>. You can either edit this
file directly or use the provided command line interface to add or remove
plugins.</p>
<h2 id="adding-a-plugin"><a class="header" href="#adding-a-plugin">Adding a plugin</a></h2>
<p>To add your first plugin append the following to the Sheldon config file.</p>
<pre><code class="language-toml"># ~/.config/sheldon/plugins.toml

[plugins.base16]
github = &quot;chriskempson/base16-shell&quot;
</code></pre>
<p>Or use the <code>add</code> command to automatically add it.</p>
<pre><code class="language-sh">sheldon add base16 --github chriskempson/base16-shell
</code></pre>
<p>The first argument given here <code>base16</code> is a unique name for the plugin. The
<code>--github</code> option specifies that we want Sheldon to manage a clone of the
<a href="https://github.com/chriskempson/base16-shell">https://github.com/chriskempson/base16-shell</a>
repository.</p>
<h2 id="loading-plugins"><a class="header" href="#loading-plugins">Loading plugins</a></h2>
<p>You can then use <code>sheldon source</code> to install this plugin, generate a lock file,
and print out the shell script to source. Simply add the following to your
<code>~/.zshrc</code> or <code>~/.bashrc</code> file.</p>
<pre><code class="language-sh"># ~/.zshrc or ~/.bashrc

eval &quot;$(sheldon source)&quot;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="-command-line-interface"><a class="header" href="#-command-line-interface">üíª Command line interface</a></h1>
<p>Sheldon has three different types of commands.</p>
<ul>
<li><a href="Command-line-interface.html#init"><code>init</code></a> initializes a new config file.</li>
<li><a href="Command-line-interface.html#lock"><code>lock</code></a> and <a href="Command-line-interface.html#source"><code>source</code></a> deal with plugin downloading,
installation, and generation of shell source code.</li>
<li><a href="Command-line-interface.html#add"><code>add</code></a>, <a href="Command-line-interface.html#edit"><code>edit</code></a>, and <a href="Command-line-interface.html#remove"><code>remove</code></a> automate editing of
the config file.</li>
</ul>
<h2 id="init"><a class="header" href="#init"><code>init</code></a></h2>
<p>This command initializes a new config file. If a config file exists then this
command does nothing.</p>
<p>For example</p>
<pre><code class="language-sh">sheldon init
</code></pre>
<p>Or you can specify the shell.</p>
<pre><code class="language-sh">sheldon init --shell bash
</code></pre>
<p>or</p>
<pre><code class="language-sh">sheldon init --shell zsh
</code></pre>
<h2 id="lock"><a class="header" href="#lock"><code>lock</code></a></h2>
<p>The <code>lock</code> command installs the plugins sources and generates the lock file.
Rerunning this command without any extra options will not reinstall plugin
sources, just verify that they are correctly installed. It will always
regenerate the lock file.</p>
<pre><code class="language-sh">sheldon lock
</code></pre>
<p>To update all plugin sources you can use the <code>--update</code> flag.</p>
<pre><code class="language-sh">sheldon lock --update
</code></pre>
<p>To force a reinstall of all plugin sources you can use the <code>--reinstall</code> flag.</p>
<pre><code class="language-sh">sheldon lock --reinstall
</code></pre>
<h2 id="source"><a class="header" href="#source"><code>source</code></a></h2>
<p>This command generates the shell script. This command will first check if there
is an up to date lock file, if not, then it will first do the equivalent of the
lock command above. This command is usually used with the built-in shell <code>eval</code>
command.</p>
<pre><code class="language-sh">eval &quot;$(sheldon source)&quot;
</code></pre>
<p>But you can also run it directly to inspect the output. The output of this
command is highly configurable. You can define your own custom templates to
apply to your plugins.</p>
<h2 id="add"><a class="header" href="#add"><code>add</code></a></h2>
<p>This command adds a new plugin to the config file. It does nothing else but edit
the config file. In the following command we add a GitHub repository as a
source.</p>
<pre><code class="language-sh">sheldon add my-repo --git https://github.com/owner/repo.git
</code></pre>
<p>An example usage of this command for each source type is shown in the
<a href="Configuration.html">Configuration</a> section.</p>
<h2 id="edit"><a class="header" href="#edit"><code>edit</code></a></h2>
<p>This command will open the config file in the default editor and only overwrite
the contents if the updated config file is valid. To override the editor that is
used you should set the <code>EDITOR</code> environment variable.</p>
<p>For example using <code>vim</code></p>
<pre><code class="language-sh">EDITOR=vim sheldon edit
</code></pre>
<p>Or with Visual Studio Code</p>
<pre><code class="language-sh">EDITOR=&quot;code --wait&quot; sheldon edit
</code></pre>
<h2 id="remove"><a class="header" href="#remove"><code>remove</code></a></h2>
<p>This command removes a plugin from the config file. It does nothing else but
edit the config file. In the following command we remove the plugin with name
<code>my-repo</code>.</p>
<pre><code class="language-sh">sheldon remove my-repo
</code></pre>
<h2 id="options"><a class="header" href="#options">Options</a></h2>
<p>Sheldon accepts the following global command line options and environment
variables. You can also view all options by running Sheldon with <code>-h</code> or
<code>--help</code>. The value that will be used for the option follows the following
priority.</p>
<ol>
<li>Command line option.</li>
<li>Environment variable.</li>
<li>Default value.</li>
</ol>
<h4 id="--color-when"><a class="header" href="#--color-when"><code>--color &lt;when&gt;</code></a></h4>
<p>Set the output coloring.</p>
<ul>
<li><code>always</code>: Always use colored output.</li>
<li><code>auto</code>: Automatically determine whether to use colored output (<em>default</em>).</li>
<li><code>never</code>: Never use colored output.</li>
</ul>
<h4 id="--config-dir-path"><a class="header" href="#--config-dir-path"><code>--config-dir &lt;path&gt;</code></a></h4>
<p><em>Environment variable:</em> <code>SHELDON_CONFIG_DIR</code></p>
<p>Set the config directory where the configuration file will be stored. This
defaults to <code>$XDG_CONFIG_HOME/sheldon</code> or <code>~/.config/sheldon</code>.</p>
<h4 id="--data-dir-path"><a class="header" href="#--data-dir-path"><code>--data-dir &lt;path&gt;</code></a></h4>
<p><em>Environment variable:</em> <code>SHELDON_DATA_DIR</code></p>
<p>Set the data directory where plugins will be downloaded to. This defaults to
<code>$XDG_DATA_HOME/sheldon</code> or <code>~/.local/share/sheldon</code>.</p>
<h4 id="--config-file-path"><a class="header" href="#--config-file-path"><code>--config-file &lt;path&gt;</code></a></h4>
<p><em>Environment variable:</em> <code>SHELDON_CONFIG_FILE</code></p>
<p>Set the path to the config file. This defaults to <code>&lt;config-dir&gt;/plugins.toml</code>
where <code>&lt;config-dir&gt;</code> is the config directory.</p>
<h4 id="--profile-profile"><a class="header" href="#--profile-profile"><code>--profile &lt;profile&gt;</code></a></h4>
<p><em>Environment variable:</em> <code>SHELDON_PROFILE</code></p>
<p>Specify the profile to match plugins against. Plugins which have
<a href="Configuration.html#profiles">profiles</a> configured will only get loaded if one of
the given profiles matches the profile.</p>
<h2 id="completions"><a class="header" href="#completions">Completions</a></h2>
<p>Shell completion scripts for Bash and Zsh are available. If Sheldon was
installed via Homebrew then the completions should have been installed
automatically.</p>
<p>They can also be generated by Sheldon using the <code>completions</code> subcommand which
will output the completions to stdout. Refer to your specific shell
documentation for more details on how to install these.</p>
<pre><code>sheldon completions --shell bash &gt; /path/to/completions/sheldon.bash
</code></pre>
<p>or</p>
<pre><code>sheldon completions --shell zsh &gt; /path/to/completions/_sheldon
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="-configuration"><a class="header" href="#-configuration">‚öôÔ∏è Configuration</a></h1>
<h2 id="plugin-sources"><a class="header" href="#plugin-sources">Plugin sources</a></h2>
<p>A plugin is defined by adding a new unique name to the <code>plugins</code> table in the
<a href="https://toml.io">TOML</a> config file. This can be done by either editing the file
directly or using the provided Sheldon commands. A plugin must provide the
location of the source. There are three types of sources, each kind is described
in this section. A plugin may only specify <em>one</em> source type.</p>
<pre><code class="language-toml"># ~/.config/sheldon/plugins.toml

#           ‚îå‚îÄ Unique name for the plugin
#        ‚îå‚îÄ‚îÄ‚î¥‚îÄ‚îê
[plugins.base16]
github = &quot;chriskempson/base16-shell&quot;
#         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îò
#               ‚îÇ            ‚îî‚îÄ GitHub repository name
#               ‚îî‚îÄ GitHub user or organization
</code></pre>
<h3 id="git"><a class="header" href="#git">Git</a></h3>
<p>Git sources specify a remote Git repository that will be cloned to the Sheldon
data directory. There are three flavors of Git sources.</p>
<h4 id="github"><a class="header" href="#github"><code>github</code></a></h4>
<p>A GitHub source must set the <code>github</code> field and specify the repository. This
should be the username or organization and the repository name separated by a
forward slash. Add the following to the Sheldon config file.</p>
<pre><code class="language-toml">[plugins.example]
github = &quot;owner/repo&quot;
</code></pre>
<p>Or run <code>add</code> with the <code>--github</code> option.</p>
<pre><code class="language-sh">sheldon add example --github owner/repo
</code></pre>
<h4 id="gist"><a class="header" href="#gist"><code>gist</code></a></h4>
<p>A Gist source must set the <code>gist</code> field and specify the repository. This should
be the hash or username and hash of the Gist. Add the following to the Sheldon
config file.</p>
<pre><code class="language-toml">[plugins.example]
gist = &quot;579d02802b1cc17baed07753d09f5009&quot;
</code></pre>
<p>Or run <code>add</code> with the <code>--gist</code> option.</p>
<pre><code class="language-sh">sheldon add example --gist 579d02802b1cc17baed07753d09f5009
</code></pre>
<h4 id="git-1"><a class="header" href="#git-1"><code>git</code></a></h4>
<p>A Git source must set the <code>git</code> field and specify the URL to clone. Add the
following to the Sheldon config file.</p>
<pre><code class="language-toml">[plugins.example]
git = &quot;https://github.com/owner/repo&quot;
</code></pre>
<p>Or run <code>add</code> with the <code>--git</code> option.</p>
<pre><code class="language-sh">sheldon add example --git https://github.com/owner/repo
</code></pre>
<h4 id="specifying-a-branch-tag-or-commit"><a class="header" href="#specifying-a-branch-tag-or-commit">Specifying a branch, tag, or commit</a></h4>
<p>All Git sources also allow setting of one of the <code>branch</code>, <code>tag</code> or <code>rev</code>
fields. Sheldon will then checkout the repository at this reference.</p>
<pre><code class="language-toml">[plugins.example]
github = &quot;owner/repo&quot;
tag = &quot;v0.1.0&quot;
</code></pre>
<p>Or run <code>add</code> with the <code>--tag</code>, <code>--branch</code>, or <code>--rev</code> option.</p>
<pre><code class="language-sh">sheldon add example --github owner/repo --tag v0.1.0
</code></pre>
<h4 id="cloning-with-git-or-ssh-protocols"><a class="header" href="#cloning-with-git-or-ssh-protocols">Cloning with Git or SSH protocols</a></h4>
<p>GitHub and Gist sources are cloned using HTTPS by default. You can specify that
Git or SSH should be used by setting the <code>proto</code> field to the protocol type.
This must be one of <code>git</code>, <code>https</code>, or <code>ssh</code>.</p>
<pre><code class="language-toml">[plugins.example]
github = &quot;owner/repo&quot;
proto = &quot;ssh&quot;
</code></pre>
<p>For a plain Git source you should specify the URL with a <code>git://</code> or <code>ssh://</code>.
For SSH you will need to specify the username as well (it is <code>git</code> for GitHub).</p>
<pre><code class="language-toml">[plugins.example]
git = &quot;ssh://git@github.com/owner/repo&quot;
</code></pre>
<h4 id="private-git-repositories"><a class="header" href="#private-git-repositories">Private Git repositories</a></h4>
<p>Currently Sheldon only supports authentication when cloning using SSH and
requires an SSH agent to provide credentials. This means if you have a plugin
source that is a private repository you will have to use the SSH protocol for
cloning.</p>
<h3 id="remote"><a class="header" href="#remote">Remote</a></h3>
<p>Remote sources specify a remote file that will be downloaded by Sheldon. A
remote source must set the <code>remote</code> field and specify the URL. Add the following
to the Sheldon config file.</p>
<pre><code class="language-toml">[plugins.example]
remote = &quot;https://github.com/owner/repo/raw/branch/plugin.zsh&quot;
</code></pre>
<p>Or run <code>add</code> with the <code>--remote</code> option.</p>
<pre><code class="language-sh">sheldon add example --remote https://github.com/owner/repo/raw/branch/plugin.zsh
</code></pre>
<h3 id="local"><a class="header" href="#local">Local</a></h3>
<p>Local sources reference local directories. A local source must set the <code>local</code>
field and specify a directory. Tildes may be used and will be expanded to the
current user's home directory. Add the following to the Sheldon config file.</p>
<pre><code class="language-toml">[plugins.example]
local = &quot;~/Downloads/plugin&quot;
</code></pre>
<p>Or run <code>add</code> with the <code>--local</code> option.</p>
<pre><code class="language-sh">sheldon add example --local '~/Downloads/plugin'
</code></pre>
<h2 id="plugin-options"><a class="header" href="#plugin-options">Plugin options</a></h2>
<p>These are options that are common to all the above plugins.</p>
<h3 id="use"><a class="header" href="#use"><code>use</code></a></h3>
<p>A list of files / globs to use in the plugin's source directory. If this field
is not given then the first pattern in the global <a href="Configuration.html#match"><code>match</code></a> field that
matches any files will be used. Add the following to the Sheldon config file.</p>
<pre><code class="language-toml">[plugins.example]
github = &quot;owner/repo&quot;
use = [&quot;*.zsh&quot;]
</code></pre>
<p>Or run <code>add</code> with the <code>--use</code> option when adding the plugin.</p>
<pre><code class="language-sh">sheldon add example --github owner/repo --use '*.zsh'
</code></pre>
<h3 id="apply"><a class="header" href="#apply"><code>apply</code></a></h3>
<p>A list of template names to apply to this plugin. This defaults to the global
<a href="Configuration.html#apply-1"><code>apply</code></a>.</p>
<pre><code class="language-toml">[plugins.example]
github = &quot;owner/repo&quot;
apply = [&quot;source&quot;, &quot;PATH&quot;]
</code></pre>
<p>Or run <code>add</code> with the <code>--apply</code> option when adding the plugin.</p>
<pre><code class="language-sh">sheldon add example --github owner/repo --apply source PATH
</code></pre>
<p>You can define your own <a href="Configuration.html#custom-templates">custom templates</a> to apply to your
plugins.</p>
<h3 id="profiles"><a class="header" href="#profiles"><code>profiles</code></a></h3>
<p>A list of profiles this plugin should be used in. If this field is not given the
plugin will be used regardless of the profile. Otherwise, the plugin is only
used if the specified <a href="Command-line-interface.html#--profile-profile">profile</a> is
included in the configured list of profiles.</p>
<h3 id="hooks"><a class="header" href="#hooks"><code>hooks</code></a></h3>
<p>Statements executed around plugin installation.</p>
<pre><code class="language-toml">[plugins.example]
github = &quot;owner/repo&quot;

[plugins.example.hooks]
pre = &quot;export TEST=test&quot;
post = &quot;unset TEST&quot;
</code></pre>
<h2 id="inline-plugins"><a class="header" href="#inline-plugins">Inline plugins</a></h2>
<p>For convenience it also possible to define Inline plugins. An Inline plugin must
set the <code>inline</code> field and specify the raw source.</p>
<pre><code class="language-toml">[plugins.example]
inline = 'example() { echo &quot;Just an example of inline shell code&quot; }'
</code></pre>
<h2 id="templates"><a class="header" href="#templates">Templates</a></h2>
<p>A template defines how the shell source for a particular plugin is generated.
For example the <strong>PATH</strong> template adds the plugin directory to the shell <code>PATH</code>
variable. A template will be applied to a plugin if you add the template name to
the <a href="Configuration.html#apply"><code>apply</code></a> field on a plugin.</p>
<p>Available built-in templates are different depending on what shell you are
using. The following are available for both Bash and Zsh.</p>
<ul>
<li><strong>source</strong>: source each file in a plugin.</li>
<li><strong>PATH</strong>: add the plugin directory to the <code>PATH</code> variable.</li>
</ul>
<p>If you are using Zsh then the following are also available.</p>
<ul>
<li><strong>path</strong>: add the plugin directory to the <code>path</code> variable.</li>
<li><strong>fpath</strong>: add the plugin directory to the <code>fpath</code> variable.</li>
</ul>
<p>As template strings in the config file they could be represented like the
following.</p>
<pre><code class="language-toml">[templates]
source = &quot;&quot;&quot;
{{ hooks?.pre | nl }}{% for file in files %}source \&quot;{{ file }}\&quot;
{% endfor %}{{ hooks?.post | nl }}&quot;&quot;&quot;
PATH = 'export PATH=&quot;{{ dir }}:$PATH&quot;'
path = 'path=( &quot;{{ dir }}&quot; $path )'
fpath = 'fpath=( &quot;{{ dir }}&quot; $fpath )'
</code></pre>
<p>For example if we change the <code>apply</code> field for the below plugin, it will only
add the plugin directory to the <code>PATH</code> and append it to the <code>fpath</code>. The plugin
will not be sourced.</p>
<pre><code class="language-toml">[plugins.example]
github = &quot;owner/repo&quot;
apply = [&quot;PATH&quot;, &quot;fpath&quot;]
</code></pre>
<h3 id="custom-templates"><a class="header" href="#custom-templates">Custom templates</a></h3>
<p>It is possible to create your own custom templates, and you can even override
the built-in ones.</p>
<p>Plugins all have the following information that can be used in templates.</p>
<ul>
<li>
<p><strong>A unique name.</strong> This is completely arbitrary, and it is the value specified
for the plugin in the plugins table. However, it is often the name of the
plugin, so it can be useful to use this name in templates with <code>{{ name }}</code>.</p>
</li>
<li>
<p><strong>A directory.</strong> For Git sources this is the location of the cloned
repository, for local sources, it is the directory specified. This directory
can be used in templates with <code>{{ dir }}</code>.</p>
</li>
<li>
<p><strong>One or more files.</strong> These are the matched files in the plugin directory
either discovered using the the global <code>match</code> field or specified as a plugin
option with <code>use</code>. These can be used in templates by iterating over the files.
For example: <code>{% for file in  files %} ... {{ file }} ... {% endfor %}</code>.</p>
</li>
<li>
<p><strong>Hooks</strong> Hooks are taken directly from the configuration and can be used as
<code>{{ hooks.[KEY] }}</code>.</p>
</li>
</ul>
<p>To add or update a template add a new key to the <code>[templates]</code> table in the
config file. Take a look at the <a href="Examples.html">examples</a> for some interesting
applications of this.</p>
<h2 id="global-options"><a class="header" href="#global-options">Global options</a></h2>
<h3 id="shell"><a class="header" href="#shell"><code>shell</code></a></h3>
<p>Indicates the shell that you are using. This setting will affect the default
values for several global config settings. This includes the global
<a href="Configuration.html#match"><code>match</code></a> setting and the available templates. This defaults to <code>zsh</code>.</p>
<pre><code class="language-toml">shell = &quot;bash&quot;
</code></pre>
<p>or</p>
<pre><code class="language-toml">shell = &quot;zsh&quot;
</code></pre>
<p>as well as the experimental</p>
<pre><code class="language-toml">shell = &quot;fish&quot;
</code></pre>
<h3 id="match"><a class="header" href="#match"><code>match</code></a></h3>
<p>A list of glob patterns to match against a plugin's contents. The first pattern
that matches any files will be used by default as a plugin's <code>use</code> field. This
defaults to</p>
<pre><code class="language-toml">match = [
    &quot;{{ name }}.plugin.zsh&quot;,
    &quot;{{ name }}.zsh&quot;,
    &quot;{{ name }}.sh&quot;,
    &quot;{{ name }}.zsh-theme&quot;,
    &quot;*.plugin.zsh&quot;,
    &quot;*.zsh&quot;,
    &quot;*.sh&quot;,
    &quot;*.zsh-theme&quot;
]
</code></pre>
<p>If the shell is Bash then this defaults to</p>
<pre><code class="language-toml">match = [
    &quot;{{ name }}.plugin.bash&quot;,
    &quot;{{ name }}.plugin.sh&quot;,
    &quot;{{ name }}.bash&quot;,
    &quot;{{ name }}.sh&quot;,
    &quot;*.plugin.bash&quot;,
    &quot;*.plugin.sh&quot;,
    &quot;*.bash&quot;,
    &quot;*.sh&quot;
]
</code></pre>
<p>If the shell is Fish then this defaults to</p>
<pre><code class="language-toml">match = [
    &quot;conf.d/{{ name }}.fish&quot;,
    &quot;conf.d/{!_*,*}.fish&quot;,
    &quot;{completions,functions}/{{ name }}.fish&quot;,
    &quot;{completions,functions}/{!_*,*}.fish&quot;,
    &quot;{completions,functions}/*.fish&quot;,
    &quot;{{ name }}.fish&quot;,
    &quot;{!_*,*}.fish&quot;,
    &quot;*.fish&quot;
]
</code></pre>
<h3 id="apply-1"><a class="header" href="#apply-1"><code>apply</code></a></h3>
<p>A list of template names to apply to all plugins by default (see
<a href="Configuration.html#apply"><code>apply</code></a>). This defaults to</p>
<pre><code class="language-toml">apply = [&quot;source&quot;]
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="-examples"><a class="header" href="#-examples">üí° Examples</a></h1>
<p>This section demonstrates the configuration file contents for some common
installation practices as well how to configure popular plugins and themes.</p>
<h2 id="deferred-loading-of-plugins-in-zsh"><a class="header" href="#deferred-loading-of-plugins-in-zsh">Deferred loading of plugins in Zsh</a></h2>
<p>A commonly desired feature of shell plugin managers is deferred loading of
plugins because of the massive increase in speed that it provides. Because
Sheldon is not written in a shell language it cannot provide the level of
integration that other plugin managers can. However, it is pretty easy to get
deferred loading working with Sheldon using
<a href="https://github.com/romkatv/zsh-defer">romkatv/zsh-defer</a>.</p>
<p>Firstly, you should add <code>zsh-defer</code> as a plugin.</p>
<pre><code class="language-toml">[plugins.zsh-defer]
github = &quot;romkatv/zsh-defer&quot;
</code></pre>
<p>Important: the <code>zsh-defer</code> plugin definition should be placed before any plugins
that will use the <code>defer</code> template. Sheldon always processes plugins in the
order they are defined in the config file.</p>
<p>Then add a template that calls <code>zsh-defer source</code> instead of just <code>source</code>.</p>
<pre><code class="language-toml">[templates]
defer = &quot;{{ hooks?.pre | nl }}{% for file in files %}zsh-defer source \&quot;{{ file }}\&quot;\n{% endfor %}{{ hooks?.post | nl }}&quot;
</code></pre>
<p>Now any plugin that you want to defer you can apply the <code>defer</code> template. For
example if you wanted to defer loading of <code>zsh-syntax-highlighting</code>.</p>
<pre><code class="language-toml">[plugins.zsh-syntax-highlighting]
github = &quot;zsh-users/zsh-syntax-highlighting&quot;
apply = [&quot;defer&quot;]
</code></pre>
<h2 id="overriding-the-path-template"><a class="header" href="#overriding-the-path-template">Overriding the PATH template</a></h2>
<p>The built-in <strong>PATH</strong> template adds the directory path to the beginning of the
<code>PATH</code> variable, we might want to change it to the be added at the end. We could
do this like this</p>
<pre><code class="language-toml">[templates]
PATH = 'export PATH=&quot;$PATH:{{ dir }}&quot;'
</code></pre>
<p>You can then apply it to the plugin like this</p>
<pre><code class="language-toml">[plugins.example]
github = &quot;owner/repo&quot;
apply = [&quot;source&quot;, &quot;PATH&quot;]
</code></pre>
<p><strong>Note:</strong> this would change the behavior of <strong>PATH</strong> for <em>all</em> plugins using it.</p>
<h2 id="zsh-frameworks"><a class="header" href="#zsh-frameworks">Zsh frameworks</a></h2>
<h3 id="ohmyzsh"><a class="header" href="#ohmyzsh"><a href="https://github.com/ohmyzsh/ohmyzsh">ohmyzsh</a></a></h3>
<p>Add the following to the Sheldon config file.</p>
<pre><code class="language-toml">[plugins.oh-my-zsh]
github = &quot;ohmyzsh/ohmyzsh&quot;
</code></pre>
<p>Or run the following to automatically add it.</p>
<pre><code class="language-sh">sheldon add oh-my-zsh --github &quot;ohmyzsh/ohmyzsh&quot;
</code></pre>
<p>Add the following to your <code>~/.zshrc</code> file.</p>
<pre><code class="language-sh"># ~/.zshrc

export ZSH=&quot;$HOME/.local/share/sheldon/repos/github.com/ohmyzsh/ohmyzsh&quot;

# Oh My Zsh settings here

eval &quot;$(sheldon source)&quot;
</code></pre>
<h2 id="zsh-plugins"><a class="header" href="#zsh-plugins">Zsh plugins</a></h2>
<h3 id="autosuggestions"><a class="header" href="#autosuggestions"><a href="https://github.com/zsh-users/zsh-autosuggestions">autosuggestions</a></a></h3>
<p>Add the following to the Sheldon config file.</p>
<pre><code class="language-toml">[plugins.zsh-autosuggestions]
github = &quot;zsh-users/zsh-autosuggestions&quot;
use = [&quot;{{ name }}.zsh&quot;]
</code></pre>
<p>Or run the following to automatically add it.</p>
<pre><code class="language-sh">sheldon add zsh-autosuggestions --github zsh-users/zsh-autosuggestions --use '{{ name }}.zsh'
</code></pre>
<h3 id="autojump"><a class="header" href="#autojump"><a href="https://github.com/wting/autojump">autojump</a></a></h3>
<p>Add the following to the Sheldon config file.</p>
<pre><code class="language-toml">[plugins.autojump]
github = &quot;wting/autojump&quot;
dir = &quot;bin&quot;
apply = [&quot;PATH&quot;, &quot;source&quot;]
</code></pre>
<p>Or run the following to automatically add it.</p>
<pre><code class="language-sh">sheldon add autojump --github wting/autojump --dir bin --apply PATH source
</code></pre>
<h3 id="syntax-highlighting"><a class="header" href="#syntax-highlighting"><a href="https://github.com/zsh-users/zsh-syntax-highlighting">syntax-highlighting</a></a></h3>
<p>Add the following to the Sheldon config file.</p>
<pre><code class="language-toml">[plugins.zsh-syntax-highlighting]
github = &quot;zsh-users/zsh-syntax-highlighting&quot;
</code></pre>
<p>Or run the following to automatically add it.</p>
<pre><code class="language-sh">sheldon add zsh-syntax-highlighting --github zsh-users/zsh-syntax-highlighting
</code></pre>
<h3 id="blackbox"><a class="header" href="#blackbox"><a href="https://github.com/StackExchange/blackbox">blackbox</a></a></h3>
<p>Add the following to the Sheldon config file.</p>
<pre><code class="language-toml">[plugins.blackbox]
github = &quot;StackExchange/blackbox&quot;
</code></pre>
<p>Or run the following to automatically add it.</p>
<pre><code class="language-sh">sheldon add blackbox --github StackExchange/blackbox
</code></pre>
<h3 id="zlua"><a class="header" href="#zlua"><a href="https://github.com/skywind3000/z.lua">z.lua</a></a></h3>
<p>Add the following to the Sheldon config file.</p>
<pre><code class="language-toml">[plugins.&quot;z.lua&quot;]
github = &quot;skywind3000/z.lua&quot;
</code></pre>
<p>Or run the following to automatically add it.</p>
<pre><code class="language-sh">sheldon add z.lua --github skywind3000/z.lua
</code></pre>
<h3 id="enhancd"><a class="header" href="#enhancd"><a href="https://github.com/b4b4r07/enhancd">enhancd</a></a></h3>
<p>Add the following to the Sheldon config file.</p>
<pre><code class="language-toml">[plugins.enhancd]
github = &quot;b4b4r07/enhancd&quot;
</code></pre>
<p>Or run the following to automatically add it.</p>
<pre><code class="language-sh">sheldon add enhancd --github b4b4r07/enhancd
</code></pre>
<h3 id="base16"><a class="header" href="#base16"><a href="https://github.com/chriskempson/base16-shell">base16</a></a></h3>
<p>Add the following to the Sheldon config file.</p>
<pre><code class="language-toml">[plugins.base16]
github = &quot;chriskempson/base16-shell&quot;
</code></pre>
<p>Or run the following to automatically add it.</p>
<pre><code class="language-sh">sheldon add base16 --github chriskempson/base16-shell
</code></pre>
<h2 id="zsh-themes"><a class="header" href="#zsh-themes">Zsh themes</a></h2>
<h3 id="powerlevel10k"><a class="header" href="#powerlevel10k"><a href="https://github.com/romkatv/powerlevel10k">powerlevel10k</a></a></h3>
<p>Add the following to the Sheldon config file.</p>
<pre><code class="language-toml">[plugins.powerlevel10k]
github = &quot;romkatv/powerlevel10k&quot;
</code></pre>
<p>Or run the following to automatically add it.</p>
<pre><code>sheldon add powerlevel10k --github romkatv/powerlevel10k
</code></pre>
<h3 id="spaceship"><a class="header" href="#spaceship"><a href="https://github.com/spaceship-prompt/spaceship-prompt">spaceship</a></a></h3>
<p>Add the following to the Sheldon config file.</p>
<pre><code class="language-toml">[plugins.spaceship]
github = &quot;spaceship-prompt/spaceship-prompt&quot;
</code></pre>
<p>Or run the following to automatically add it.</p>
<pre><code class="language-sh">sheldon add spaceship --github spaceship-prompt/spaceship-prompt
</code></pre>
<h3 id="pure"><a class="header" href="#pure"><a href="https://github.com/sindresorhus/pure">pure</a></a></h3>
<p>Add the following to the Sheldon config file.</p>
<pre><code class="language-toml">[plugins.pure]
github = &quot;sindresorhus/pure&quot;
use = [&quot;async.zsh&quot;, &quot;pure.zsh&quot;]
</code></pre>
<p>Or run the following to automatically add it.</p>
<pre><code class="language-sh">sheldon add pure --github sindresorhus/pure --use async.zsh pure.zsh
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="-release-notes"><a class="header" href="#-release-notes">üìù Release notes</a></h1>
<h2 id="074"><a class="header" href="#074">0.7.4</a></h2>
<p><em>November 19th, 2023</em></p>
<ul>
<li>
<p><a href="https://github.com/rossmacarthur/sheldon/commit/40383074c54c3935908bf76401b42878285510cd">Support optional access in templates.</a> This allows you to use the
<code>.?</code> operator in templates to optionally access a field in templates, for
example <code>{{ hooks?.pre }}</code> will return <code>None</code> and not error if <code>pre</code> is not
present in <code>hooks</code>. You will now receive a deprecation warning if you use the
<code>get</code> filter which does the same thing.</p>
<p>Custom templates might have to be updated, for example if you were using a
custom <code>defer</code> template you would need to update it to the following.</p>
<pre><code class="language-toml">[templates]
defer = &quot;{{ hooks?.pre | nl }}{% for file in files %}zsh-defer source \&quot;{{ file }}\&quot;\n{% endfor %}{{ hooks?.post | nl }}&quot;
</code></pre>
</li>
</ul>
<h2 id="073"><a class="header" href="#073">0.7.3</a></h2>
<p><em>May 16th, 2023</em></p>
<ul>
<li>
<p><a href="https://github.com/rossmacarthur/sheldon/issues/150">Add configurable hooks in templates.</a> This allows you to specify
arbitrary hooks for a plugin that can be used in templates. These are
specified under <code>plugins.&lt;name&gt;.hooks</code>. The default <code>source</code> templates have
been updated to support hooks with the names <code>pre</code> and <code>post</code>. The <code>pre</code> hook
will be inserted before the plugin is sourced and the <code>post</code> after the plugin
is sourced. If you are using a custom template like <code>defer</code> it will need to
be updated to support hooks.</p>
<p>For example this can be used to set variables after a plugin is sourced.</p>
<pre><code class="language-toml">[plugins.enhancd]
github = &quot;b4b4r07/enhancd&quot;

[plugins.enhancd.hooks]
post = 'export ENHANCD_HOOK_AFTER_CD = &quot;ls&quot;'
</code></pre>
<p>Custom templates might have to be updated, for example if you were using a
custom <code>defer</code> template you would need to update it to the following.</p>
<pre><code class="language-toml">[templates]
defer = &quot;{{ hooks | get: \&quot;pre\&quot; | nl }}{% for file in files %}zsh-defer source \&quot;{{ file }}\&quot;\n{% endfor %}{{ hooks | get: \&quot;post\&quot; | nl }}&quot;
</code></pre>
<p><em>Contributed by <a href="https://github.com/mkroli"><strong>@mkroli</strong></a></em></p>
</li>
</ul>
<h2 id="072"><a class="header" href="#072">0.7.2</a></h2>
<p><em>May 13th, 2023</em></p>
<ul>
<li>
<p><a href="https://github.com/rossmacarthur/sheldon/issues/163">Add --non-interactive option to suppress prompts.</a> This option is
defined as a global option so it must be specified before the subcommand.</p>
<pre><code class="language-sh">sheldon --non-interactive init --shell zsh
</code></pre>
</li>
<li>
<p><a href="https://github.com/rossmacarthur/sheldon/issues/128">Add experimental fish shell support.</a> It is now possible to initialize
Sheldon to use the Fish shell.</p>
<pre><code>sheldon init --shell fish
</code></pre>
<p>This makes Sheldon change the global matches and templates to be tailored to
Fish. Add the following to your Fish config</p>
<pre><code>eval &quot;$(sheldon source)&quot;
</code></pre>
</li>
<li>
<p><a href="https://github.com/rossmacarthur/sheldon/issues/162">Fix 'PermissionDenied' during rename of temporary clone directory.</a></p>
<p><em>Contributed by <a href="https://github.com/sceneq"><strong>sceneq</strong></a></em></p>
</li>
</ul>
<h2 id="071"><a class="header" href="#071">0.7.1</a></h2>
<p><em>November 1st, 2022</em></p>
<ul>
<li>
<p><a href="https://github.com/rossmacarthur/sheldon/issues/156">Fix bug with custom config file.</a> Previously, the default config
directory still needed to exist for Sheldon to work properly.</p>
</li>
<li>
<p><a href="https://github.com/rossmacarthur/sheldon/issues/145">Add <code>compact</code> release profile.</a> This profile is optimized for binary
size.</p>
<pre><code>cargo install --profile compact sheldon
</code></pre>
<p><em>Contributed by <a href="https://github.com/mkroli"><strong>@mkroli</strong></a></em></p>
</li>
</ul>
<h2 id="070"><a class="header" href="#070">0.7.0</a></h2>
<p><em>October 13th, 2022</em></p>
<h3 id="breaking-changes"><a class="header" href="#breaking-changes">Breaking changes</a></h3>
<ul>
<li>
<p><a href="https://github.com/rossmacarthur/sheldon/commit/c3f87dde3017e98845378148acc4cd2268572a7a">Use XDG directories by default.</a> Previously Sheldon tried to
automatically detect whether the user wanted to use XDG. This proved difficult
and Sheldon now follows the <a href="https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html">XDG directory structure</a> by default. Sheldon will
log a warning if the old directory <code>~/.sheldon</code> is still used as the config
directory.</p>
<p>To use the new location you should move the config file from
<code>~/.sheldon/plugins.toml</code> to <code>$XDG_CONFIG_HOME/sheldon/plugins.toml</code>, which
will be <code>~/.config/sheldon/plugins.toml</code> if the XDG variable is unset. You can
then safely delete the old <code>~/.sheldon</code> directory.</p>
<p>If you wish to preserve the existing behaviour you can simply set the
following environment variables.</p>
<pre><code class="language-sh">SHELDON_CONFIG_DIR=&quot;$HOME/.sheldon&quot;
SHELDON_DATA_DIR=&quot;$HOME/.sheldon&quot;
</code></pre>
</li>
<li>
<p><a href="https://github.com/rossmacarthur/sheldon/commit/c2127c39f4d131f255f45dda289f496c07272bec">Update template engine.</a> Stop using Handlebars in favour of
<a href="https://github.com/rossmacarthur/upon">Jinja-like templating</a>. This will only
affect you if you were using custom templates.</p>
</li>
<li>
<p><a href="https://github.com/rossmacarthur/sheldon/commit/708bd9e3337f107410f977618dc47d6824191a16">Only apply templates per plugin.</a> This effectively removes the
<code>each</code> field from the template configuration. Any templates that are applied
to each file in a plugin need to now use a for loop.</p>
<p>Previously, you could use</p>
<pre><code class="language-toml">[templates]
defer = { value = 'zsh-defer source &quot;{{ file }}&quot;', each = true }
</code></pre>
<p>You must now use a <code>for</code> loop</p>
<pre><code class="language-toml">[templates]
defer = &quot;&quot;&quot;{% for file in files %}
zsh-defer source &quot;{{ file }}&quot;
{% endfor %}&quot;&quot;&quot;
</code></pre>
<p>Having templates only applied per plugin and not both per plugin and per file
in a plugin makes rendering a lot simpler and the config easier to understand.</p>
</li>
<li>
<p><a href="https://github.com/rossmacarthur/sheldon/commit/4bbbff4a423002498e028a56f62897e4425be6a6">Remove clone, download dir and lock file options.</a> These paths are
no longer configurable, only the data directory is configurable.</p>
</li>
</ul>
<h3 id="features"><a class="header" href="#features">Features</a></h3>
<ul>
<li>
<p><a href="https://github.com/rossmacarthur/sheldon/pull/143">Conditional sourcing of plugins using profiles.</a> This allows you to
specify a profile that a plugin is applicable to. The plugin will only be
included when Sheldon is run with that profile. A separate lock file will be
used for each profile.</p>
<p>Plugins can specify the profiles using the <code>profiles</code> key.</p>
<pre><code class="language-toml">[plugins.example]
github = &quot;owner/repo&quot;
profiles = [&quot;&lt;name&gt;&quot;]
</code></pre>
<p>You can specify the profile in two ways:</p>
<ul>
<li>Command line flag: <code>--profile &lt;name&gt;</code></li>
<li>Environment variable: <code>SHELDON_PROFILE=&lt;name&gt;</code>.</li>
</ul>
<p><em>Contributed by <a href="https://github.com/mkroli"><strong>@mkroli</strong></a></em></p>
</li>
<li>
<p><a href="https://github.com/rossmacarthur/sheldon/pull/144">Support cargo-binstall.</a> This allows Sheldon to be installed using
<code>cargo binstall sheldon</code> which will fetch the release artifact for Sheldon
from the GitHub release.</p>
<p><em>Contributed by <a href="https://github.com/Jackenmen"><strong>@Jackenmen</strong></a></em></p>
</li>
</ul>
<h3 id="fixes"><a class="header" href="#fixes">Fixes</a></h3>
<ul>
<li><a href="https://github.com/rossmacarthur/sheldon/commit/d254a6aea79ffddc84aa849002328ed017f33bf2">Fix not updating Git source branches after force pushes.</a> Previously
repositories with a branch that was force pushed wouldn't be updated by
<code>sheldon lock --update</code>.</li>
<li>Many other fixes and internal improvements.</li>
</ul>
<h2 id="066"><a class="header" href="#066">0.6.6</a></h2>
<p><em>January 29th, 2022</em></p>
<ul>
<li><a href="https://github.com/rossmacarthur/sheldon/issues/129">Support and bundle shell completions.</a></li>
</ul>
<h2 id="065"><a class="header" href="#065">0.6.5</a></h2>
<p><em>October 27th, 2021</em></p>
<ul>
<li><a href="https://github.com/rossmacarthur/sheldon/issues/124">Fix <code>libgit2</code> compatibility issues.</a></li>
</ul>
<h2 id="064"><a class="header" href="#064">0.6.4</a></h2>
<p><em>July 14th, 2021</em></p>
<ul>
<li><a href="https://github.com/rossmacarthur/sheldon/commit/8df07e3295247259213565c632ce0c8d2fd90735">Fix broken symlink handling.</a> If a glob match includes a broken
symlink Sheldon will now emit an error.</li>
<li><a href="https://github.com/rossmacarthur/sheldon/commit/a8317097b0feb9c1df02bbe9d0ae7c2e4518b290">Fix glob behaviour with <code>uses</code>.</a></li>
</ul>
<h2 id="063"><a class="header" href="#063">0.6.3</a></h2>
<p><em>March 27th, 2021</em></p>
<ul>
<li>
<p><a href="https://github.com/rossmacarthur/sheldon/issues/116">Support Git proxy settings.</a></p>
<p><em>Contributed by <a href="https://github.com/iclac"><strong>@iclac</strong></a></em></p>
</li>
</ul>
<h2 id="062"><a class="header" href="#062">0.6.2</a></h2>
<p><em>March 13th, 2021</em></p>
<ul>
<li><a href="https://github.com/rossmacarthur/sheldon/commit/a4a06023f5ec582964fdcf3ad036998dace02616">Fix edit bug.</a> If the edit file existed and you chose the &quot;Abort&quot;
option the file would be deleted by mistake.</li>
<li><a href="https://github.com/rossmacarthur/sheldon/commit/92a23b5289c4c206a228e6bf11ce937c4649047b">Always include details section in version output.</a> This was
previously excluded if there was no Git information.</li>
</ul>
<h2 id="061"><a class="header" href="#061">0.6.1</a></h2>
<p><em>February 12th, 2021</em></p>
<ul>
<li><a href="https://github.com/rossmacarthur/sheldon/commit/f3c748324fce1a098fd00f9b645771e1164d0a53">Embed Git and Rustc information in binary.</a> Git (if available) and
Rustc information will now be displayed when passing <code>--version</code> to Sheldon.</li>
<li><a href="https://github.com/rossmacarthur/sheldon/commit/129490a08e893f2313f2da902bc4b53bfcd0d42c">Switch to <code>curl</code> instead of <code>reqwest</code>.</a> This significantly reduces
compile time and binary size.</li>
<li><a href="https://github.com/rossmacarthur/sheldon/issues/111">Fix temporary file issues when using <code>edit</code>.</a> Now the same file is used
for editing, if it already exists then Sheldon will prompt the user to either
re-open it or overwrite.</li>
</ul>
<h2 id="060"><a class="header" href="#060">0.6.0</a></h2>
<p><em>October 16th, 2020</em></p>
<h3 id="breaking-changes-1"><a class="header" href="#breaking-changes-1">Breaking changes</a></h3>
<ul>
<li>
<p><a href="https://github.com/rossmacarthur/sheldon/pull/110">Support XDG directory structure.</a> If any XDG environment variable is
set then Sheldon will adopt the <a href="https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html">XDG directory structure</a> by default. The
config file will be located at <code>$XDG_CONFIG_HOME/sheldon/plugins.toml</code> and
downloaded data will be located in <code>$XDG_CONFIG_DATA/sheldon</code>.</p>
<p><em>Contributed by <a href="https://github.com/tapeinosyne"><strong>@tapeinosyne</strong></a></em></p>
</li>
<li>
<p><a href="https://github.com/rossmacarthur/sheldon/commit/10c64a3cd0e1f95536a821016a165728dde59779">Change the default lock file location.</a> For non-XDG directory
structures the lock file now always defaults to
<code>$SHELDON_DATA_DIR/plugins.lock</code>. It previously was the config file path with
a <code>.lock</code> extension.</p>
</li>
<li>
<p><a href="https://github.com/rossmacarthur/sheldon/pull/112">Remove the Sheldon root.</a> The <code>root</code> directory has been replaced by
individual directories for configuration and data: <code>config_dir</code> and
<code>data_dir</code>. Both default to <code>$HOME/.sheldon</code>, the old default <code>root</code>.</p>
<p><em>Contributed by <a href="https://github.com/tapeinosyne"><strong>@tapeinosyne</strong></a></em></p>
<p>If you used Sheldon's defaults, everything will just keep working as it did;
no action needs to be taken. Otherwise, you may refer to this migration table:</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: right"></th><th>Old</th><th>New</th></tr></thead><tbody>
<tr><td style="text-align: right">Config paths</td><td><code>&lt;root&gt;/plugins.toml</code></td><td><code>&lt;config_dir&gt;/plugins.toml</code></td></tr>
<tr><td style="text-align: right">Data paths</td><td><code>&lt;root&gt;/plugins.lock</code></td><td><code>&lt;data_dir&gt;/plugins.lock</code></td></tr>
<tr><td style="text-align: right"></td><td><code>&lt;root&gt;/repos</code></td><td><code>&lt;data_dir&gt;/repos</code></td></tr>
<tr><td style="text-align: right"></td><td><code>&lt;root&gt;/downloads</code></td><td><code>&lt;data_dir&gt;/downloads</code></td></tr>
<tr><td style="text-align: right">Env variables</td><td><code>SHELDON_ROOT</code></td><td><code>SHELDON_CONFIG_DIR</code></td></tr>
<tr><td style="text-align: right"></td><td></td><td><code>SHELDON_DATA_DIR</code></td></tr>
<tr><td style="text-align: right">CLI options</td><td><code>--root</code></td><td><code>--config-dir</code></td></tr>
<tr><td style="text-align: right"></td><td></td><td><code>--data-dir</code></td></tr>
<tr><td style="text-align: right">Template variables</td><td><code>{{ root }}</code></td><td><code>{{ data_dir }}</code></td></tr>
</tbody></table>
</div></li>
<li>
<p><a href="https://github.com/rossmacarthur/sheldon/commit/2be1da71076247518d1f5c78c190d488bb8743cf">Auto-detect whether to use colored output.</a> A new <code>--color</code> option
was added with three values <code>always</code>, <code>auto</code>, or <code>never</code>. By default Sheldon
will now automatically whether to use colored output or not (<code>auto</code>). But you
can still force Sheldon to always use color or never use color with the
<code>--color always</code> option or <code>--color never</code>. The previous <code>--no-color</code> option
has been removed.</p>
</li>
</ul>
<h3 id="fixes-1"><a class="header" href="#fixes-1">Fixes</a></h3>
<ul>
<li><a href="https://github.com/rossmacarthur/sheldon/commit/abf202737fa30b30465fbed6c47a034d4d0e9911">Fix performance bug introduced in version 0.5.4.</a> A significant drop
in performance was introduced by switching to the Rust <code>rayon</code> package. This
change has been reverted.</li>
<li><a href="https://github.com/rossmacarthur/sheldon/commit/bc5f9d7ae759cf5e3af7822d45e2bf7fb545d219">Fix <code>--relock</code> not being implied for other flags.</a> This fixes a bug
where passing <code>--update</code> or <code>--reinstall</code> to the <code>source</code> command didn't imply
<code>--relock</code> like the documentation says.</li>
</ul>
<h2 id="054"><a class="header" href="#054">0.5.4</a></h2>
<p><em>August 14th, 2020</em></p>
<h3 id="features-1"><a class="header" href="#features-1">Features</a></h3>
<ul>
<li>
<p><a href="https://github.com/rossmacarthur/sheldon/commit/a972c3543d3c5ed339028ab316b1c48f733aed7">Support extended glob syntax.</a> This means that <code>{a,b}</code> and <code>!</code> glob
patterns can now be used. For example, the following is now valid.</p>
<pre><code class="language-toml">[plugins.ohmyzsh]
github = &quot;ohmyzsh/ohmyzsh&quot;
dir = &quot;lib&quot;
use = [&quot;{!git,!nvm,*}.zsh]
</code></pre>
</li>
</ul>
<h3 id="fixes-2"><a class="header" href="#fixes-2">Fixes</a></h3>
<ul>
<li><a href="https://github.com/rossmacarthur/sheldon/commit/aa69e0c6c6ae56e98c9d19de3be191e9ce9a974b">Fix not erroring out when no files matched for plugin.</a> This fixes
cases where no files would be matched for a plugin and Sheldon would silently
continue, resulting in no source rendered by <code>sheldon source</code>.</li>
<li><a href="https://github.com/rossmacarthur/sheldon/commit/2a607885ead211ec78e3494f32cad91476bd4184">Update default templates for Bash, <code>path</code> and <code>fpath</code> are now
removed.</a> These templates were meaningless in a Bash context.</li>
</ul>
<h2 id="053"><a class="header" href="#053">0.5.3</a></h2>
<p><em>July 28th, 2020</em></p>
<h3 id="features-2"><a class="header" href="#features-2">Features</a></h3>
<ul>
<li><a href="https://github.com/rossmacarthur/sheldon/commit/131576dfddc53ec76e87ce6ee64326ae119a383c">Add <code>init</code> command.</a> Adds a new command to Sheldon which initializes
a config file. Simply run <code>sheldon init</code>.</li>
<li><a href="https://github.com/rossmacarthur/sheldon/commit/ed872e9ca6e7ca23569ed68bcdc09d43c6973374">Add <code>shell</code> config key.</a> Indicates to Sheldon what type of shell is
being used. Certain other config values will have different defaults if this
value is set.</li>
<li><a href="https://github.com/rossmacarthur/sheldon/commit/5a8254d36c73e79cf67782160cf63e9e6f5c3d9b">Support updating of plugins via <code>--update</code> option.</a> Simply run
<code>sheldon lock --update</code> to update all plugin sources.</li>
</ul>
<h2 id="052"><a class="header" href="#052">0.5.2</a></h2>
<p><em>June 4th, 2020</em></p>
<h3 id="fixes-3"><a class="header" href="#fixes-3">Fixes</a></h3>
<ul>
<li><a href="https://github.com/rossmacarthur/sheldon/commit/4ae64325fd8239dfb6e35f9efc05067c9c4a24d4">Fix not erroring out on a bad HTTP status code.</a> This fixes remote
sources from silently not being downloaded correctly.</li>
<li><a href="https://github.com/rossmacarthur/sheldon/commit/4ba58227be394e961d721804d7e6b02b882495ec">Fix missing status log.</a> This fixes a missing status log for when
fetching remote sources.</li>
</ul>
<h3 id="other"><a class="header" href="#other">Other</a></h3>
<ul>
<li><a href="https://github.com/rossmacarthur/sheldon/commit/3ef9d7a7a8fd6b429e8405ba3e9ba7c621326543">Only ship musl binaries.</a> The <a href="https://github.com/rossmacarthur/install">download
script</a> will figure this out
automatically.</li>
</ul>
<h2 id="051"><a class="header" href="#051">0.5.1</a></h2>
<p><em>May 11th, 2020</em></p>
<ul>
<li><a href="https://github.com/rossmacarthur/sheldon/commit/081f940bc75711d3a587673178c738dd9ad40258">Using <code>--reinstall</code> on source command now implies <code>--relock</code>.</a></li>
<li><a href="https://github.com/rossmacarthur/sheldon/commit/eb6aaf49bacbccff00359ec86135d1f4050a6d35">Support aarch64 linux.</a></li>
<li><a href="https://github.com/rossmacarthur/sheldon/commit/4b14975238412a9ae83fcc9a202586bd725b331b">Update Docker images to use OpenSSL 1.1.1g.</a> This affects the
shipped musl binaries which statically bundle OpenSSL.</li>
</ul>
<h2 id="050"><a class="header" href="#050">0.5.0</a></h2>
<p><em>May 2nd, 2020</em></p>
<h3 id="features-3"><a class="header" href="#features-3">Features</a></h3>
<ul>
<li>
<p><a href="https://github.com/rossmacarthur/sheldon/commit/140d17142d5be2b0653f559612aebffbd3c39ce1">Add <code>add</code> and <code>remove</code> commands to edit config.</a> These commands will
edit the config file for you.</p>
<p>For example</p>
<pre><code class="language-sh">sheldon add example --github owner/repo --tag v0.1.0
</code></pre>
<p>will add the following to the config file</p>
<pre><code class="language-toml">[plugins.example]
github = &quot;owner/repo&quot;
tag = &quot;v0.1.0&quot;
</code></pre>
<p>The following will remove it again.</p>
<pre><code class="language-sh">sheldon remove example
</code></pre>
</li>
<li>
<p><a href="https://github.com/rossmacarthur/sheldon/commit/5b6384370128d410e82153b52c398dcfd1f8422c">Add <code>edit</code> command.</a> Adds a new command to Sheldon which allows you
to open the config file in the default editor. Simply run <code>sheldon edit</code>.</p>
</li>
<li>
<p><a href="https://github.com/rossmacarthur/sheldon/commit/75a39b398bb2982ef77e44bf1269cbd6f762bf99">Add initial config file.</a> When running <code>add</code> or <code>edit</code> Sheldon will
attempt to initialize a new config file at <code>~/.sheldon/plugins.toml</code>.</p>
</li>
<li>
<p><a href="https://github.com/rossmacarthur/sheldon/commit/11ff2875e5ecb04851b435c3e95fecbe7e453a97">Warn about unused config keys.</a> Anytime Sheldon loads the config
file it will log warnings when there are unused config keys. Great for
catching typos!</p>
</li>
</ul>
<h3 id="breaking-changes-2"><a class="header" href="#breaking-changes-2">Breaking changes</a></h3>
<ul>
<li>
<p><a href="https://github.com/rossmacarthur/sheldon/commit/18454834cb6f1b2b1ebf2ef52617449b58917f28">Update default root directory and clone directory.</a> The root
directory now defaults to <code>~/.sheldon</code> and the clone directory now defaults to
<code>{root}/repos</code>. To migrate you should do the following:</p>
<pre><code class="language-sh">mv ~/.zsh ~/.sheldon
mv ~/.sheldon/repositories ~/.sheldon/repos
</code></pre>
<p>Or to preserve the old behavior you should export the following before running
Sheldon.</p>
<pre><code class="language-sh">export SHELDON_ROOT=&quot;$HOME/.zsh&quot;
export SHELDON_CLONE_DIR=&quot;$SHELDON_ROOT/repositories&quot;
</code></pre>
</li>
</ul>
<h3 id="fixes-4"><a class="header" href="#fixes-4">Fixes</a></h3>
<ul>
<li>
<p><a href="https://github.com/rossmacarthur/sheldon/commit/7293cbf61240a40333ef139b6ac6e7ab173f0f97">Download/clone sources to a temporary path first.</a></p>
<p>This fixes an issue (<a href="https://github.com/rossmacarthur/sheldon/issues/99">#99</a>) where if someone tried to reinstall they would be
left without any plugins because they would all be nuked up front prior to
trying to download them.</p>
</li>
</ul>
<h3 id="deprecations"><a class="header" href="#deprecations">Deprecations</a></h3>
<p>Most of these are still supported, however Sheldon will log a deprecation
warning if you use them.</p>
<ul>
<li><a href="https://github.com/rossmacarthur/sheldon/commit/c62600a46116457c4bd682e348af344c00709e67">Rename <code>filename</code> to <code>file</code></a> This affects both the the config file
and the template rendering context.</li>
<li><a href="https://github.com/rossmacarthur/sheldon/commit/f8d564770e5fac66d92511fdb404869f2cbb6f4f">Rename <code>directory</code> to <code>dir</code>.</a> This affects both the the config file
and the template rendering context.</li>
<li><a href="https://github.com/rossmacarthur/sheldon/commit/ce4d8e29e19d52a7ab9d5c83b93cfe91b643a227">Rename <code>protocol</code> plugin config key to <code>proto</code>.</a></li>
<li><a href="https://github.com/rossmacarthur/sheldon/commit/92bb588612e58498fe668e0f7f4fa274b6f9cb11">Rename <code>revision</code> plugin config key to <code>rev</code>.</a></li>
</ul>
<h2 id="048"><a class="header" href="#048">0.4.8</a></h2>
<p><em>November 3rd, 2019</em></p>
<ul>
<li><a href="https://github.com/rossmacarthur/sheldon/pull/87">Auto clean clone and download directories</a>. Unused source directories
and files will now be automatically removed.</li>
<li><a href="https://github.com/rossmacarthur/sheldon/pull/84">Support Git submodules.</a> After cloning and checking out a repository
submodules will now be recursively fetched.</li>
<li><a href="https://github.com/rossmacarthur/sheldon/pull/83">Support Git source cloning using Git and SSH protocols.</a> This adds an
optional <code>protocol</code> field to plugin configuration which can be used to specify
the protocol for Gist and GitHub sources. Additionally, Git sources can now
specify URLs with protocols <code>git://</code> and <code>ssh://</code>.</li>
</ul>
<h2 id="047"><a class="header" href="#047">0.4.7</a></h2>
<p><em>October 22nd, 2019</em></p>
<ul>
<li><a href="https://github.com/rossmacarthur/sheldon/pull/76">Add <code>--clone-dir</code> and <code>--download-dir</code> options.</a> The directories where
Git plugin sources are cloned to, and remote sources are downloaded to, are
now configurable. Environment variables for setting these options are also now
available.</li>
<li><a href="https://github.com/rossmacarthur/sheldon/pull/72">Fix <code>--config-file</code> and <code>--lock-file</code> options.</a> These two options were
previously ignored and only the environment variables were recognized.</li>
</ul>
<h2 id="046"><a class="header" href="#046">0.4.6</a></h2>
<p><em>August 18th, 2019</em></p>
<ul>
<li><a href="https://github.com/rossmacarthur/sheldon/pull/66">Support globs in local plugin directories.</a> Globs should match only one
directory.</li>
<li><a href="https://github.com/rossmacarthur/sheldon/pull/65">Support for inline plugins.</a></li>
</ul>
<h2 id="045"><a class="header" href="#045">0.4.5</a></h2>
<p><em>July 19th, 2019</em></p>
<ul>
<li><a href="https://github.com/rossmacarthur/sheldon/pull/58">Require mutex to run a Sheldon command.</a> Makes sure multiple instances
of Sheldon do not interfere with each other!</li>
</ul>
<h2 id="044"><a class="header" href="#044">0.4.4</a></h2>
<p><em>July 7th, 2019</em></p>
<ul>
<li><a href="https://github.com/rossmacarthur/sheldon/pull/54">Warn instead of erroring when running <code>sheldon source</code>.</a> This allows at
least some plugins to be sourced, this only happens if there is already a lock
file.</li>
</ul>
<h2 id="043"><a class="header" href="#043">0.4.3</a></h2>
<p><em>July 3rd, 2019</em></p>
<ul>
<li><a href="https://github.com/rossmacarthur/sheldon/pull/47">Verify that locked directories and filenames exist when running <code>sheldon source</code>.</a> If they do not then <code>sheldon lock</code> will be run again.</li>
</ul>
<h2 id="042"><a class="header" href="#042">0.4.2</a></h2>
<p><em>June 27th, 2019</em></p>
<ul>
<li><a href="https://github.com/rossmacarthur/sheldon/pull/44">Improve output granularity and add <code>--verbose</code> option.</a></li>
</ul>
<h2 id="041"><a class="header" href="#041">0.4.1</a></h2>
<p><em>June 2nd, 2019</em></p>
<ul>
<li><a href="https://github.com/rossmacarthur/sheldon/pull/43">Add <code>--no-color</code> option.</a></li>
<li><a href="https://github.com/rossmacarthur/sheldon/pull/43">Replace home directory with tilde in output.</a></li>
<li><a href="https://github.com/rossmacarthur/sheldon/pull/42">Support directory key for plugins.</a> The plugin directory can now be
configured to be a sub directory of the source.</li>
</ul>
<h2 id="040"><a class="header" href="#040">0.4.0</a></h2>
<p><em>May 26th, 2019</em></p>
<p>Complete refactor including breaking changes to the configuration file from
prior versions.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
