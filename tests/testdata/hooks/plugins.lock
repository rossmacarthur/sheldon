version = "<version>"
home = "<home>"
config_dir = "<config>"
data_dir = "<data>"
config_file = "<config>/plugins.toml"

[[plugins]]
name = "test"
source_dir = "<data>/repos/github.com/rossmacarthur/sheldon-test"
files = ["<data>/repos/github.com/rossmacarthur/sheldon-test/test.plugin.zsh"]
apply = ["source"]

[plugins.hooks]
pre = "pre"

[[plugins]]
name = "inline-test"
raw = "{% if hooks | contains: \"pre\" %}{{ hooks.pre }}\n{% endif %}echo 'testing...'\n{% if hooks | contains: \"post\" %}{{ hooks.post }}\n{% endif %}"

[plugins.hooks]
post = "post"
[templates.PATH]
value = "export PATH=\"{{ dir }}:$PATH\""
each = false

[templates.path]
value = "path=( \"{{ dir }}\" $path )"
each = false

[templates.fpath]
value = "fpath=( \"{{ dir }}\" $fpath )"
each = false

[templates.source]
value = "{% if hooks | contains: \"pre\" %}{{ hooks.pre }}\n{% endif %}source \"{{ file }}\"{% if hooks | contains: \"post\" %}\n{{ hooks.post }}{% endif %}"
each = true
